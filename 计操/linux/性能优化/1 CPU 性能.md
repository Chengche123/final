1 平均负载:
    一: 
        平均负载提供了一个快速查看系统整体性能的手段，**反映了整体的负载情况**。但只看平均负载本身，我们**并不能直接发现，到底是哪里出现了瓶颈**。
    二: 命令: uptime stress mpstat pidstat
            watch -d uptime: 查看平均负载
            apt install stress:
                stress 是一个 Linux 系统**压力测试工具**
                stress --cpu 1 --timeout 600: 模拟一个 CPU 使用率 100% 的场景
                stress -i 1 --timeout 600: 模拟 I/O 压力
                stress -c 8 --timeout 600: 模拟的是 8 个进程
            apt install sysstat:
                mpstat -P ALL 5: 实时查看每个 CPU 的性能指标，以及所有 CPU 的平均指标。
                pidstat -u 5: 实时查看进程的 CPU、内存、I/O 以及上下文切换等性能指标。
    三:
        **CPU 密集型进程**，使用大量 CPU 会导致平均负载升高，此时这两者是一致的；
        **I/O 密集型进程**，等待 I/O 也会导致平均负载升高，但 CPU 使用率不一定很高；
        大量等待 CPU 的进程调度也会导致平均负载升高，此时的 CPU 使用率也会比较高。
    四: 何时优化:
            当平均负载**高于 CPU 数量 70% 的时候**，你就应该分析排查负载高的问题了。**一旦负载过高，就可能导致进程响应变慢，进而影响服务的正常功能。**

2 CPU上下文切换:
    一: 上下文切换场景:
            一: 进程的时间片耗尽
            二: 系统资源不足
            三: 通过睡眠函数 sleep 这样的方法将自己主动挂起
            四: 有优先级更高的进程运行时
            五: 发生硬件中断时，CPU 上的进程会被中断挂起，转而执行内核中的中断服务程序。
    二: cswch和nvcswch
            cswch
                **自愿上下文切换**，是指进程无法获取所需资源，导致的上下文切换。比如说， I/O、内存等系统资源不足时，就会发生自愿上下文切换。
            nvcswch
                **非自愿上下文切换**，则是指进程由于时间片已到等原因，被系统强制调度，进而发生的上下文切换。比如说，**大量进程都在争抢 CPU 时，就容易发生非自愿上下文切换。**
    三: 命令:
            一: **vmstat**用来分析 CPU 上下文切换和中断的次数。
                    cs（context switch）是每秒上下文切换的次数。
                    in（interrupt）则是每秒中断的次数。
                    r（Running or Runnable）是就绪队列的长度，也就是正在运行和等待 CPU 的进程数。
                    b（Blocked）则是处于不可中断睡眠状态的进程数。

    

